[gd_scene load_steps=20 format=3 uid="uid://bcuyni0ghas6j"]

[ext_resource type="PackedScene" uid="uid://cu2efk6dyqge5" path="res://Utilities/magnetic.tscn" id="1_eso3n"]
[ext_resource type="Script" path="res://Static Objects/button.gd" id="1_i58mc"]
[ext_resource type="PackedScene" uid="uid://ccox31ycpy3bo" path="res://Utilities/magnetic_field.tscn" id="2_b6ncd"]
[ext_resource type="Material" uid="uid://d3m80u3lm4crx" path="res://Arts/Prototype/magnetic/normal.tres" id="2_brr88"]
[ext_resource type="Material" uid="uid://ddo7yjmhtxvhu" path="res://Arts/Prototype/magnetic/positive.tres" id="3_ie37x"]
[ext_resource type="Texture2D" uid="uid://su2e1ljs3yul" path="res://Arts/other small things/button (3).jpg" id="3_oowcm"]
[ext_resource type="Skin" path="a" id="3_q3cs4"]
[ext_resource type="Material" uid="uid://d8u1dt6bgvh5" path="res://Arts/Prototype/magnetic/negative.tres" id="4_5unha"]

[sub_resource type="BoxShape3D" id="BoxShape3D_muyyx"]
resource_local_to_scene = true

[sub_resource type="BoxMesh" id="BoxMesh_m2qlr"]
resource_local_to_scene = true
lightmap_size_hint = Vector2i(14, 12)
size = Vector3(1, 0.1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4cn2o"]
albedo_texture = ExtResource("3_oowcm")
uv1_scale = Vector3(3.095, 2.005, 1)
uv1_offset = Vector3(-1.05, 0, 0)
uv1_triplanar_sharpness = 0.292969
uv2_scale = Vector3(0.48, 0.48, 0.48)
uv2_offset = Vector3(-0.55, 0, 0)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mssqa"]
albedo_texture = ExtResource("3_oowcm")

[sub_resource type="BoxMesh" id="BoxMesh_sfb4y"]
resource_local_to_scene = true
material = SubResource("StandardMaterial3D_mssqa")
size = Vector3(0.5, 0.099, 0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_5yhun"]
resource_local_to_scene = true
size = Vector3(1, 0.2, 1)

[sub_resource type="Animation" id="Animation_2ut4a"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MeshInstance3D2:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0.1, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D:shape:size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(1, 0.2, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CollisionShape3D:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0.05, 0)]
}

[sub_resource type="Animation" id="Animation_0d3l8"]
resource_name = "trigger"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MeshInstance3D2:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(0.5, 0.203063),
"update": 0,
"values": [Vector3(0, 0.1, 0), Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D:shape:size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(1, 0.2, 1), Vector3(1, 0.1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CollisionShape3D:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0.05, 0), Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_6fj8i"]
resource_name = "un_trigger"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MeshInstance3D2:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0.1, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D:shape:size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(1, 0.1, 1), Vector3(1, 0.2, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CollisionShape3D:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0.05, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_gbsi1"]
_data = {
"RESET": SubResource("Animation_2ut4a"),
"trigger": SubResource("Animation_0d3l8"),
"untrigger": SubResource("Animation_6fj8i")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_ocqv2"]
resource_local_to_scene = true
size = Vector3(1, 0.1, 1)

[node name="Button" type="StaticBody3D"]
script = ExtResource("1_i58mc")

[node name="MagneticField" parent="." node_paths=PackedStringArray("magnetic") instance=ExtResource("2_b6ncd")]
magnetic = NodePath("../Magnetic")

[node name="CollisionShape3D" parent="MagneticField" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_muyyx")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("BoxMesh_m2qlr")
skin = ExtResource("3_q3cs4")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
transform = Transform3D(1.96906, 0, 0, 0, 1.08296, 0, 0, 0, 1.95581, 0, 0.1, 0)
material_overlay = SubResource("StandardMaterial3D_4cn2o")
mesh = SubResource("BoxMesh_sfb4y")

[node name="Magnetic" parent="." node_paths=PackedStringArray("mesh_instance") instance=ExtResource("1_eso3n")]
normal_material = ExtResource("2_brr88")
positive_material = ExtResource("3_ie37x")
negative_material = ExtResource("4_5unha")
mesh_instance = NodePath("../MeshInstance3D2")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.05, 0)
shape = SubResource("BoxShape3D_5yhun")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_gbsi1")
}

[node name="TriggerArea" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 11

[node name="CollisionShape3D" type="CollisionShape3D" parent="TriggerArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0)
shape = SubResource("BoxShape3D_ocqv2")

[connection signal="body_entered" from="TriggerArea" to="." method="_on_area_3d_body_entered"]
[connection signal="body_exited" from="TriggerArea" to="." method="_on_area_3d_body_exited"]

[editable path="MagneticField"]
